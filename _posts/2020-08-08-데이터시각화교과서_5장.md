---
title: "[데이터 시각화 교과서] 5장 다양한 시각화 방식" ## 포스트 제목
category:       
    - Visualization
tags:           
    - 데이터 시각화 교과서
comments:  true
use_math : true
last_modified_at : 2020-08-08
toc: true
---

# 책 정보 및 목차

- 책 제목 : 데이터 시각화 교과서
- 저자 : 클라우스 윌케
- 출판사 : O'REILLY
- 기준 언어 : R
- 목차  
    **2\.** 데이터 시각화 : '읽는' 데이터에서 '보는' 데이터로  
    **3\.** 위치 스케일 : 좌표와 축  
    **4\.** 색상 스케일  
    **5\.** 다양한 시각화 방식  

<!-- # 2. 데이터 시각화 : '읽는' 데이터에서 '보는' 데이터로 

# 3. 위치 스케일 : 좌표와 축

# 4. 색상 스케일 -->

---

# 5. 다양한 시각화 방식

각종 데이터에 따라 그래프 유형에 따라 적절한 시각화 방식을 훑어본다.

## 1) 수량의 시각화

- 데이터 유형 : 수량, 수치
- 그래프 유형 :   
    + 단일 범주 : 세로 막대, 가로 막대, 점
    + 복수 범주 : 세로 or 가로 묶은 막대, 세로 or 가로 누적 막대, 히트맵(heatmap)  
- `히트맵` : 2개의 범주를 지닌 데이터 시각화에서 x축과 y축에 범주를 표시하고 색으로 수량 또는 수치를 나타낼 수 있다. 이때 각 색상칸에 수치를 명시적으로 표기하여 정확한 값을 한눈에 볼 수 도 있다. 하지만, 범주내 카테고리가 너무 많을 경우에는 수치를 쓰기 어렵고 정렬하지 않으면 비교하기 어렵다. 

- 참고 : [seaborn:heatmap](https://seaborn.pydata.org/generated/seaborn.heatmap.html)

---

## 2) 분포의 시각화

- 데이터 유형 : 수량, 수치
- 그래프 유형 :
    + 단일 범주 : 히스토그램(histogram), 밀도 도표(density plot), 누적 밀도, QQ(quantile-quantile)도표
    + 복수 범주 : 박스도표(box plot), 바이올린 도표, 스트립(strip) 차트, 시나(sina) 도표, 누적 히스토그램, 중첩 밀도, 융기선 도표  
- `히스토그램과 밀도 도표` :  분포 데이터를 가장 직관적으로 보여주지만 두 가지 모두 파라미터를 임의로 정해야 하므로 데이터가 잘못 전달될 수 있다. (ex. 히스토그램의 구간)
- `누적 밀도 도표와 QQ도표` : 항상 데이터를 정확하게 보여주지만 의미 파악이 까다롭다.
- `박스도표, 바이올린 도표, 스트립 차트, 시나 도표` : 여러 분포 값을 한 번에 나타내려고 하거나, 분포 값의 전반적인 변화 추이를 중점적으로 보려고 할 때 유용하다. (ex. 각 종 제품 구매 연령 스팩트럼)
- `누적 히스토그램과 중첩 밀도 도표` : 분포 값의 개수가 적을 때 좀 더 심층적인 비교 분석을 하기 좋지만, 누적 히스토그램은 데이터를 해석하기 어려울 수 있어 피하는 것이 좋다.
- `융기선 도표` : 바이올린 도표 대신 쓰기 좋고, 분포 값이 아주 많은 경우 내지는 시간의 흐름에 따라 분포 값이 달라지는 경우에 유용

---

## 3) 비율의 시각화

- 데이터 유형 : 비율로 표현
- 그래프 유형 :
    + 단일 범주 : 파이 차트, 세로 or 가로 막대, 누적 막대
    + 복수 범주 : 다중 파이 차트, 묶은 막대, 누적 막대, 누적 밀도
    + 그룹화 변수 : 모자이크(mosaic) 도표, 트리맵(treemap), 평행 집합(parallel sets)  
- `파이 차트` : 전체 비율을 비교하기 좋지만 각 비율이 비슷할 경우 수치를 명확하게 표기하지 않으면 비교가 어렵다. 따라서 조각을 더 쉽게 비교하기 위해 데이터들을 나란히 둘 수 있는 막대 그래프도 좋은 선택이다. (feat. 중간에 점 & 꺾은 선 추가)
- `누적 막대 도표` :  단일 데이터셋의 비율을 표시할 때는 부적절하지만, 다중 데이터셋의 비율을 비교할 때 유용하다.
- 여러 개의 비율 데이터셋을 다루거나, 조건에 따라 변동되는 비율 값을 나타내는 경우에는 다중 파이 차는 공간 차지가 심하고 집합들의 관계를 표현하기 어렵다.
- 비교할 조건의 개수가 적당할땐 묶은 막대 차트가 적합하고, 조건이 많을 때 누적 막대 도표가 효과적이다.
- `누적 밀도 도표` : 연속형 변수를 따라 비율이 달라지는 데이터를 나타내기에 좋다.  
- `모자이크 도표` : 한 그룹화 변수의 모든 수준을 다르 그룹화 변수의 모든 수준과 결합할 수 있다고 가정
- `트리맵` : 모자이크와 같은 가정이 없다. 한 그룹의 하위부가 다르 그룹의 하위부와 아예 다르더라도 이에 구애받지 않고 독립적으로 하위부를 표현할 수 있다.

![ps](/assets/images/2020-08-08-parallel_set.PNG)

- `평행 집합` : 그룹화 변수가 둘 이상일 때 모자이크 도표나 트리맵보다 효과적이다.

---

## 4) x-y 관계로 나타내는 시각화

- 데이터 유형 : 대응되는 두 값으로 이루어짐 (ex. 월별 기온)
- 그래프 유형 : 
    + 데이터 포인트가 적을 때 : 산점도(scatter plot), 버블 차트(bubble chart), 쌍 산점도, 경사 차트(slope chart)
    + 데이터 포인트가 많을 때 : 밀도 등고선, 2차원 상자, 육각형 상자, 상관 곡선(correlogram)
    + x축 데이터 증가할 때 : 꺾은선 그래프
    + 두 반응 변수의 시간적 순서 표현 : 연결 산점도
    + 데이터셋 방대한 추세 표현 : 곡선 그래프  
- `산점도` : 하나의 정량적 변수를 다른 변수와 비교해 나타낼 때 쓰는 대표적인 방식
- `버블 차트` : 정량적 변수가 3개일 때 하나의 변수를 점 크기로 나타내 산점도를 변형한 유형
- `쌍 산점도` : x축과 y축을 따라 동일한 단위로 측정되어 쌍을 이루는 데이터를 나타낼 때 그래프에 x=y선을 하나 그어줌
- `경사 차트` : 쌍을 이루는 점들을 직선으로 연결하는 그래프  
- `상관 곡선` : 시각화하려는 정량적 데이터가 두 가지 이상일 때, 데이터를 있는 그대로 표시하지 않고 상관 곡선 형태의 상관 계수로 나타낼 수 있음  

---

## 5) 지리공간 데이터의 사각화

- 데이터 유형 : 지리공간 데이터, 지도위에 표시되는 수치, 수량 등
- 그래프 유형 : 단계구분도(choropleth), 카토그램(cartogram), 카토그램 히트맵
- `단계구분도` : 2차원 공간상에 지도를 표현하여 지역별로 다른 색을 칠해 값을 구분
- `카토그램` : 정량 데이터 값에 따라 지역들의 형태를 왜곡하거나 지역들의 모양을 정사각형으로 단순화하는 방식

---

## 6) 불확실성의 시각화

- 데이터 유형 : 오차 또는 예상 범위를 포함한 데이터
- 그래프 유형 : 
    + 일반 : 오차 세로 or 가로 막대(error bar), 2D 오차 막대, 단계별 오차 막대
    + 상세 : 신뢰도 스트립(confidence strip), 눈 모양 도표(eyes plot), 감은 눈 모양 도표(half-eyes plot), 분위수 점 도표(quantile dot plot)
    + 곡선 그래프 : 신뢰대역(confidence band), 단계별 신뢰 대역(graded confidence band), 적합선(fited draw)  
- `오차 막대` : 추정하거나 측정한 데이터의 예상 값 범위를 나타낸다. 예상 값이나 측정 값을 나타내는 기준 점에서 가로나 세로 방향으로 확장한다.
- `단계별 오차 막대` : 여러 예상 범위를 동시에 나타내지만, 범위마다 신뢰도를 다르게 표현할 수 있다.
- `오차 막대나 단계별 오차 막대보다 상세하게 데이터를 보여주려면 실제 신뢰도나 사후 분포(posterior distribution)을 시각화하는 것이 좋다.`
- `신뢰 스트립` : 불확실성을 쉽게 알아볼 수 있지만 정확한 신뢰 구간 수치를 파악하는 것은 어렵다.
- `눈 모양 도표` : 오차 막대에 분포도를 시각화해 결합한 것으로, 정확한 신뢰 수준과 전반적인 불확실성 분포 상태를 동시에 보여준다.
- `분위수 점 도표` : 불확실성 분포도 대신 사용할 수 있다. 별개의 단위들을 사용해 분포 상태를 나타내기 때문에 아주 정확히지는 않지만, 동일한 데이터를 연속된 형태로 보여주는 바이올린 도표나 융기선 도표보다 한 눈에 이해하기 편하다.
- `신뢰 대역 도표` : 주어진 신뢰 수준 안에서 선이 지나갈 수 있는 값의 범위를 나타낸다.
- `단계별 신뢰 대역 도표` : 오차 막대와 마찬가지로 다수의 신뢰 수준을 반투명 효과를 이용해 한 번에 보여준다.
- `적합선` : 신뢰 대역을 그리지 않고 각 신뢰도에 따른 적합선들을 따로 그려줄 수 있다. 신뢰 대역 도표와 함께 사용하기도 한다.

---